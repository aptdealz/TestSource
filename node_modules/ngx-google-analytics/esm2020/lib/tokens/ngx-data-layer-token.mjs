import { InjectionToken, inject } from '@angular/core';
import { NGX_WINDOW } from './ngx-window-token';
/**
 * Check if there is some global function called gtag on Window object, or create an empty function to doesn't brake codes...
 */
export function getDataLayerFn(window) {
    return (window)
        ? window['dataLayer'] = window['dataLayer'] || []
        : null;
}
/**
 * Provides an injection token to access Google Analytics DataLayer Collection
 */
export const NGX_DATA_LAYER = new InjectionToken('ngx-data-layer', {
    providedIn: 'root',
    factory: () => getDataLayerFn(inject(NGX_WINDOW))
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWRhdGEtbGF5ZXItdG9rZW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtZ29vZ2xlLWFuYWx5dGljcy9zcmMvbGliL3Rva2Vucy9uZ3gtZGF0YS1sYXllci10b2tlbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFHaEQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsY0FBYyxDQUFDLE1BQWdCO0lBQzdDLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDYixDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFO1FBQ2pELENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDWCxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsSUFBSSxjQUFjLENBQVksZ0JBQWdCLEVBQUU7SUFDNUUsVUFBVSxFQUFFLE1BQU07SUFDbEIsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Q0FDbEQsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUxheWVyIH0gZnJvbSAnLi4vdHlwZXMvZGF0YS1sYXllci50eXBlJztcbmltcG9ydCB7IEluamVjdGlvblRva2VuLCBpbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5HWF9XSU5ET1cgfSBmcm9tICcuL25neC13aW5kb3ctdG9rZW4nO1xuaW1wb3J0IHsgR2FXaW5kb3cgfSBmcm9tICcuL25neC1nb29nbGUtYW5hbHl0aWNzLXdpbmRvdyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlcmUgaXMgc29tZSBnbG9iYWwgZnVuY3Rpb24gY2FsbGVkIGd0YWcgb24gV2luZG93IG9iamVjdCwgb3IgY3JlYXRlIGFuIGVtcHR5IGZ1bmN0aW9uIHRvIGRvZXNuJ3QgYnJha2UgY29kZXMuLi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFMYXllckZuKHdpbmRvdzogR2FXaW5kb3cpOiBEYXRhTGF5ZXIge1xuICByZXR1cm4gKHdpbmRvdylcbiAgICA/IHdpbmRvd1snZGF0YUxheWVyJ10gPSB3aW5kb3dbJ2RhdGFMYXllciddIHx8IFtdXG4gICAgOiBudWxsO1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFuIGluamVjdGlvbiB0b2tlbiB0byBhY2Nlc3MgR29vZ2xlIEFuYWx5dGljcyBEYXRhTGF5ZXIgQ29sbGVjdGlvblxuICovXG5leHBvcnQgY29uc3QgTkdYX0RBVEFfTEFZRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW48RGF0YUxheWVyPignbmd4LWRhdGEtbGF5ZXInLCB7XG4gIHByb3ZpZGVkSW46ICdyb290JyxcbiAgZmFjdG9yeTogKCkgPT4gZ2V0RGF0YUxheWVyRm4oaW5qZWN0KE5HWF9XSU5ET1cpKVxufSk7XG4iXX0=